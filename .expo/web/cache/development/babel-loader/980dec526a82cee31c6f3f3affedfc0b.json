{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport Icon from \"@expo/vector-icons/Ionicons\";\nimport Login from \"./Login\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Tab = createBottomTabNavigator();\nfunction ContactScreen() {\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(Text, {\n      style: styles.title,\n      children: \"Contacts\"\n    })\n  });\n}\nfunction ChatsScreen() {\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(Text, {\n      style: styles.title,\n      children: \"Chat Screen\"\n    })\n  });\n}\nfunction ProfileScreen(_ref) {\n  var handleLogout = _ref.handleLogout;\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Profile Screen\"\n    }), _jsx(TouchableOpacity, {\n      onPress: handleLogout,\n      style: styles.button,\n      children: _jsx(Text, {\n        style: styles.buttonText,\n        children: \"Logout\"\n      })\n    })]\n  });\n}\nfunction Chats(_ref2) {\n  var navigation = _ref2.navigation;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    token = _useState2[0],\n    setToken = _useState2[1];\n  useEffect(function () {\n    var getToken = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        try {\n          var value = yield AsyncStorage.getItem('@token');\n          if (value !== null) {\n            setToken(value);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      });\n      return function getToken() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    getToken();\n  }, []);\n  var handleLogout = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        yield AsyncStorage.removeItem('@token');\n        setToken(null);\n        navigation.navigate('Home');\n      } catch (error) {\n        console.log(error);\n      }\n    });\n    return function handleLogout() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  if (!token) {\n    return _jsx(Login, {\n      setToken: setToken\n    });\n  }\n  return _jsxs(Tab.Navigator, {\n    screenOptions: function screenOptions(_ref5) {\n      var route = _ref5.route;\n      return {\n        tabBarIcon: function tabBarIcon(_ref6) {\n          var focused = _ref6.focused,\n            color = _ref6.color,\n            size = _ref6.size;\n          var iconName;\n          if (route.name === 'ContactScreen') {\n            iconName = focused ? '' : '';\n          } else if (route.name === 'ChatsScreen') {\n            iconName = focused ? 'chatbubble' : 'chatbubble-outline';\n          } else if (route.name === 'Profile') {\n            iconName = focused ? 'person' : 'person-outline';\n          }\n          return _jsx(Icon, {\n            name: iconName,\n            size: size,\n            color: color\n          });\n        },\n        tabBarActiveTintColor: 'tomato',\n        tabBarInactiveTintColor: 'gray'\n      };\n    },\n    children: [_jsx(Tab.Screen, {\n      name: \"ChatsScreen\",\n      component: ChatsScreen,\n      options: {\n        tabBarLabel: 'Chats',\n        tabBarIcon: function tabBarIcon(_ref7) {\n          var color = _ref7.color,\n            size = _ref7.size;\n          return _jsx(MaterialCommunityIcons, {\n            name: \"chat\",\n            color: color,\n            size: size\n          });\n        }\n      }\n    }), _jsx(Tab.Screen, {\n      name: \"ContactsScreen\",\n      component: ContactScreen,\n      options: {\n        tabBarLabel: 'contacts',\n        tabBarIcon: function tabBarIcon(_ref8) {\n          var color = _ref8.color,\n            size = _ref8.size;\n          return _jsx(MaterialCommunityIcons, {\n            name: \"Contacts\",\n            color: color,\n            size: size\n          });\n        }\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20\n  },\n  button: {\n    backgroundColor: '#1c1c1e',\n    padding: 10,\n    borderRadius: 5\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16\n  }\n});\nexport default Chats;","map":{"version":3,"names":["React","useState","useEffect","AsyncStorage","MaterialCommunityIcons","createBottomTabNavigator","Icon","Login","Tab","ContactScreen","styles","container","title","ChatsScreen","ProfileScreen","handleLogout","button","buttonText","Chats","navigation","token","setToken","getToken","value","getItem","error","console","log","removeItem","navigate","route","tabBarIcon","focused","color","size","iconName","name","tabBarActiveTintColor","tabBarInactiveTintColor","tabBarLabel","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor","fontSize","fontWeight","marginBottom","padding","borderRadius"],"sources":["/Users/shaheryar/Downloads/WhatsThat/src/Chats.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { MaterialCommunityIcons } from 'react-native-vector-icons';\n\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport Icon from 'react-native-vector-icons/Ionicons';\nimport Login from './Login';\n\nconst Tab = createBottomTabNavigator();\n\nfunction ContactScreen() {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Contacts</Text>\n    </View>\n  );\n}\n\nfunction ChatsScreen() {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Chat Screen</Text>\n    </View>\n  );\n}\n\nfunction ProfileScreen({ handleLogout }) {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Profile Screen</Text>\n\n      <TouchableOpacity onPress={handleLogout} style={styles.button}>\n        <Text style={styles.buttonText}>Logout</Text>\n      </TouchableOpacity>\n    </View>\n  );\n}\n// The functions below check if the user has logged in using token, if the token\n//is found, it is set using settoken function otherwise null\n//if the token state is null, login is rendered passing settoken function.\n//if token state is not null, user has logged in, chat component is rendered\nfunction Chats({ navigation }) {\n  const [token, setToken] = useState(null);\n\n  useEffect(() => {\n    // Check if user has a token stored in async storage\n    const getToken = async () => {\n      try {\n        const value = await AsyncStorage.getItem('@token');\n        if (value !== null) {\n          setToken(value);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    getToken();\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await AsyncStorage.removeItem('@token');\n      setToken(null);\n      navigation.navigate('Home');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  if (!token) {\n    // Render Login component if user has not logged in yet\n    return <Login setToken={setToken} />;\n  }\n\n  // Render Chats component if user has logged in\n  return (\n    <Tab.Navigator\n      screenOptions={({ route }) => ({\n        tabBarIcon: ({ focused, color, size }) => {\n          let iconName;\n\n          if (route.name === 'ContactScreen') {\n            iconName = focused ? '' : '';\n          } else if (route.name === 'ChatsScreen') {\n            iconName = focused ? 'chatbubble' : 'chatbubble-outline';\n          } else if (route.name === 'Profile') {\n            iconName = focused ? 'person' : 'person-outline';\n          }\n\n          // You can return any component that you like here!\n          return <Icon name={iconName} size={size} color={color} />;\n        },\n        tabBarActiveTintColor: 'tomato',\n        tabBarInactiveTintColor: 'gray',\n      })}\n    >\n  <Tab.Screen name=\"ChatsScreen\" component={ChatsScreen}  \n  options={{\n    tabBarLabel: 'Chats',\n    tabBarIcon: ({ color, size }) => (\n      <MaterialCommunityIcons name=\"chat\" color={color} size={size} />\n    ),\n  }}\n  />\n  <Tab.Screen name=\"ContactsScreen\" component={ContactScreen}\n   options={{\n    tabBarLabel: 'contacts',\n    tabBarIcon: ({ color, size }) => (\n      <MaterialCommunityIcons name=\"Contacts\" color={color} size={size} />\n    ),\n  }}\n />\n</Tab.Navigator>\n\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n  },\n  button: {\n    backgroundColor: '#1c1c1e',\n    padding: 10,\n    borderRadius: 5,\n  },\n  buttonText: {\n    color: '#fff',\n    fontSize: 16,\n  },\n});\n\nexport default Chats;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}