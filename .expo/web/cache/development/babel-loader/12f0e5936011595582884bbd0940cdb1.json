{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useState } from \"react\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useNavigation } from \"@react-navigation/native\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Login() {\n  var navigation = useNavigation();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 1),\n    setToken = _useState6[0];\n  var handleLogin = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch('http://localhost:3333/api/1.0.0/login', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email: email,\n            password: password\n          })\n        });\n        var data = yield response.json();\n        console.log(data);\n        yield AsyncStorage.setItem('@token', data.token);\n        yield AsyncStorage.setItem('@id', data.id);\n        setToken(data.token);\n        navigation.navigate('Main');\n      } catch (error) {\n        console.error(error);\n      }\n    });\n    return function handleLogin() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(Image, {\n      source: require(\"./assets/whatsthat.png\"),\n      style: {\n        width: 200,\n        height: 200,\n        display: 'flex',\n        marginLeft: 30,\n        marginBottom: 30\n      }\n    }), _jsx(View, {\n      style: styles.inputView,\n      children: _jsx(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Email\",\n        placeholderTextColor: \"#003f5c\",\n        onChangeText: function onChangeText(email) {\n          return setEmail(email);\n        }\n      })\n    }), _jsx(View, {\n      style: styles.inputView,\n      children: _jsx(TextInput, {\n        style: styles.TextInput,\n        placeholder: \"Password\",\n        placeholderTextColor: \"#003f5c\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(password) {\n          return setPassword(password);\n        }\n      })\n    }), _jsx(TouchableOpacity, {\n      style: styles.signupbtn,\n      onPress: handleLogin,\n      children: _jsx(Text, {\n        style: styles.signuptxt,\n        children: \"Login\"\n      })\n    }), _jsx(Text, {\n      style: styles.loginP,\n      children: \"Do not have an account?\"\n    }), _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Signup');\n      },\n      children: _jsx(Text, {\n        style: styles.loginP,\n        children: \"Sign Up here\"\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#808000\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  inputView: {\n    backgroundColor: \"white\",\n    borderRadius: 30,\n    width: \"70%\",\n    height: 45,\n    marginBottom: 25,\n    alignItems: \"center\"\n  },\n  TextInput: {\n    height: 50,\n    flex: 1,\n    padding: 10,\n    marginLeft: 0,\n    marginBottom: 40,\n    fontSize: 20\n  },\n  signupbtn: {\n    width: \"80%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: -10,\n    backgroundColor: \"green\",\n    Color: \"white\"\n  },\n  signuptxt: {\n    fontSize: 20,\n    fontWeight: \"bold\"\n  },\n  loginP: {\n    paddingTop: 10,\n    fontWeight: \"bold\"\n  }\n});","map":{"version":3,"names":["StatusBar","React","useState","AsyncStorage","useNavigation","Login","navigation","email","setEmail","password","setPassword","setToken","handleLogin","response","fetch","method","headers","body","JSON","stringify","data","json","console","log","setItem","token","id","navigate","error","styles","container","require","width","height","display","marginLeft","marginBottom","inputView","TextInput","signupbtn","signuptxt","loginP","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","borderRadius","padding","fontSize","marginTop","Color","fontWeight","paddingTop"],"sources":["/Users/shaheryar/Downloads/WhatsThat/src/Login.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\nimport React, { useState } from \"react\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nimport { useNavigation } from \"@react-navigation/native\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  Image,\n  TextInput,\n  TouchableOpacity,\n} from \"react-native\";\n\nexport default function Login() {\n  const navigation = useNavigation();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [ setToken] = useState(null);\n\n\n  const handleLogin = async () => {\n    try {\n      const response = await fetch('http://localhost:3333/api/1.0.0/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n      });\n  \n      const data = await response.json();\n      console.log(data);\n      // Save the token in local storage\n      await AsyncStorage.setItem('@token', data.token);\n      await AsyncStorage.setItem('@id', data.id);\n      setToken(data.token);\n      // Navigate to the Chats screen\n      navigation.navigate('Main');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  \n  \n  return (\n    <View style={styles.container}>\n     \n      <StatusBar style=\"auto\" />\n      <Image\n        source={require('./assets/whatsthat.png')}\n        style={{ width: 200, height: 200, display: 'flex', marginLeft: 30, marginBottom: 30, }}\n      />\n      <View style={styles.inputView}>\n        \n        <TextInput\n          style={styles.TextInput}\n          placeholder=\"Email\"\n          placeholderTextColor=\"#003f5c\"\n          onChangeText={(email) => setEmail(email)}\n        /> \n        \n      </View> \n      <View style={styles.inputView}>\n        <TextInput\n          style={styles.TextInput}\n          placeholder=\"Password\"\n          placeholderTextColor=\"#003f5c\"\n          secureTextEntry={true}\n          onChangeText={(password) => setPassword(password)}\n        /> \n      </View> \n      <TouchableOpacity style={styles.signupbtn} onPress={handleLogin}>\n        <Text style={styles.signuptxt}>Login</Text> \n      </TouchableOpacity> \n      <Text style={styles.loginP} >Do not have an account?</Text> \n      <TouchableOpacity onPress={() => navigation.navigate('Signup')} >\n       <Text style={styles.loginP}>Sign Up here</Text> \n      </TouchableOpacity> \n    </View> \n  );\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#808000\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n \n  inputView: {\n    backgroundColor: \"white\",\n    borderRadius: 30,\n    width: \"70%\",\n    height: 45,\n    marginBottom: 25,\n    alignItems: \"center\",\n  },\n  \n  TextInput: {\n    height: 50,\n    flex: 1,\n    padding: 10,\n    marginLeft: 0,\n    marginBottom:40,\n    fontSize:20\n  },\n \n  signupbtn: {\n    width: \"80%\",\n    borderRadius: 25,\n    height: 50,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: -10,\n    backgroundColor: \"green\",\n    Color:\"white\"\n  },\n  signuptxt: {\n    fontSize:20,\n    fontWeight: \"bold\"\n  },\n \n  loginP:{\n    paddingTop:10,\n    fontWeight: \"bold\",\n\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}